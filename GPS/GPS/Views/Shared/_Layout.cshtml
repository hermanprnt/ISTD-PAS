@using Toyota.Common.Credential
@using Toyota.Common.Utilities
@{
    MenuList menuList = Html.Toyota().Page.AuthorizedMenu;
    User user = Html.Toyota().Page.User;
    string URL = "";
    if (user.Company.Id == "1000")
    {
        URL = "http://hrportal.toyota.co.id/Content/images/" + user.RegistrationNumber + ".jpg";
    }
    else
    {
        URL = "~/Content/Bootstrap/avatars/anonymous.jpg";
    }
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta charset="utf-8" />
    <title>@Html.Toyota().Application.Alias - @Html.Toyota().Page.Title</title>
    <meta name="description" content="overview &amp; stats" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <!-- bootstrap & fontawesome -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap/css/select2new.css")" />
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap/css/bootstrap.css")" />
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap/css/font-awesome.css")" />
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap/css/chosen.css")" />
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap/css/tdk.css")" />
    <!-- text fonts -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap/css/ace-fonts.css")" />
    <!-- Bootstrap Datepicker css -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap/css/datepicker.css")" />
    <!-- Daterange picker css -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap/css/daterangepicker.css")" />
    <!-- Dropzone file css -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap/css/dropzone.css")" />
    <!-- CSS -->
    <style type="text/css">
        /* some elements used in demo only */
        .spinner-preview {
            width: 100px;
            height: 100px;
            text-align: center;
            margin-top: 60px;
        }

        .dropdown-preview {
            margin: 0 5px;
            display: inline-block;
        }

            .dropdown-preview > .dropdown-menu {
                display: block;
                position: static;
                margin-bottom: 5px;
            }

        #clock {
            color: White;
            padding: 0 10px;
        }

        .app-title {
            font-family: LeagueSpartan;
            font-size: 21px;
            line-height: 1;
            vertical-align: bottom;
        }

        .logo-title {
            width: 25px;
        }

        .li-logout {
            background-color: #2D3E5C;
        }

        .user-info {
            line-height: 16px !important;
        }

        .ace-nav .nav-user-photo {
            max-width: 35px !important;
        }

        .pre-con {
            position: fixed;
            left: 0px;
            top: 0px;
            width: 100%;
            height: 100%;
            z-index: 9999;
        }
    </style>
    <!-- basic scripts -->
    <!--[if !IE]> -->
    <script type="text/javascript">
            window.jQuery || document.write("<script src='@Url.Content("~/Content/Bootstrap/js/jquery.js")'>" + "<" + "/script>");
            if ('ontouchstart' in document.documentElement) document.write("<script src='@Url.Content("~/Content/Bootstrap/js/jquery.mobile.custom.js")'>" + "<" + "/script>");
    </script>
    <!--[endif]-->
    <script type="text/javascript" src="@Url.Content("~/Content/Common/tdk.util.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Common/tdk.progressbox.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Common/tdk.messagebox.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Common/tdk.disable_enable_button.js")"></script>
    @* NOTE: commented out till further notice
        <link rel="stylesheet" href="@Url.Content("~/Content/afixedtable/afixedtable.css")"/>
        <script type="text/javascript" src="@Url.Content("~/Content/afixedtable/afixedtable.js")"></script>
    *@
    @Html.Toyota().Initialize()
    @if (IsSectionDefined("HeadScript"))
    {
        @RenderSection("HeadScript")
    }
    <!-- ace styles -->
    <link rel="stylesheet" href="@Url.Content("~/Content/Bootstrap/css/ace.css")" class="ace-main-stylesheet" id="main-ace-style" />
    <link type="text/css" rel="stylesheet" id="ace-skins-stylesheet" href="@Url.Content("~/Content/Bootstrap/css/ace-skins.css")">
    <!--[if lte IE 9]>
            <link rel="stylesheet" href="/Content/Bootstrap/css/ace-part2.css" class="ace-main-stylesheet" />
            <link rel="stylesheet" href="/Content/Bootstrap/css/ace-ie.css" />
        <![endif]-->
    <!-- ace settings handler -->
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/ace-extra.js")"></script>
    <!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries -->
    <!--[if lte IE 8]-->
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/html5shiv.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/respond.js")"></script>
    <!--[endif]-->
    <link rel="stylesheet" href="@Url.Content("~/Content/Common/gps.css")" />
</head>
<body class="no-skin">
    <!-- #section:basics/navbar.layout -->
    <div id="navbar" class="navbar navbar-blue">
        <script type="text/javascript">
            try { ace.settings.check('navbar', 'fixed') } catch (e) { }
        </script>
        <div class="navbar-container" id="navbar-container">
            <!-- #section:basics/sidebar.mobile.toggle -->
            <button type="button" class="navbar-toggle menu-toggler pull-left" id="menu-toggler"
                    data-target="#sidebar">
                <span class="sr-only">Toggle sidebar</span> <span class="icon-bar"></span><span class="icon-bar">
                </span><span class="icon-bar"></span>
            </button>
            <div class="visible-xs" style="float: right; top: 5px; margin: 5px;">
                <form action="@Html.Toyota().Page.LogoutActionUrl" method="post">
                    <button type="submit" class="btn btn-danger" style="border-radius: 3px;border:solid white 1px">
                        <i class="ace-icon fa fa-sign-out fa-lg"></i>
                    </button>
                </form>
            </div>
            <!-- /section:basics/sidebar.mobile.toggle -->
            <div class="navbar-header pull-left">
                <!-- #section:basics/navbar.layout.brand -->
                <div class="hidden-xs">
                    <a href="#" class="navbar-brand" style="line-height: 1.2">
                        <span>
                            <img src="@Url.Content("~/Content/Bootstrap/img/app-logo.png")" class="logo-title" alt="ISTD Logo" />

                            <span class="app-title">@Html.Toyota().Application.Name</span>
                        </span>
                    </a>
                </div>
                <div class="visible-xs">
                    <a href="#" class="navbar-brand" style="line-height: 1.2">
                        <span>
                            <img src="@Url.Content("~/Content/Bootstrap/img/app-logo.png")" class="logo-title" alt="ISTD Logo" />

                            <span class="app-title">@Html.Toyota().Application.Alias</span>
                        </span>
                    </a>
                </div>
            </div>
            <div class="navbar-buttons navbar-header pull-right hidden-xs" role="navigation">
                <ul class="nav ace-nav">
                    <li class="bg-green custom-nav">
                        <a href="#" data-container="body" data-toggle="popover"
                           data-placement="bottom" data-trigger="focus" title="" data-content="Phone: 021-651 5551 Ext: 62020. Email: pas-admin@toyota.co.id"
                           data-original-title="Contact"><i class="fa fa-support fa-lg"></i>&nbsp; Help </a>
                    </li>
                    <li class="light-blue" style="width: 80px; border-left: transparent;">
                        <a href="@Html.Toyota().Page.LogoutActionUrl" title="Logout" style="background-color: transparent;text-align: left;">
                            <i class="ace-icon fa fa-sign-out fa-lg"><small style="margin-left: 10px;">Logout</small></i>
                        </a>
                    </li>
                    @if (!user.IsNull())
                    {
                        <!-- #section:basics/navbar.user_menu -->
                        <li class="light-blue" style="border-left: transparent;">
                            <a href="#" title="Welcome, @user.Name" style="background-color: transparent;">
                                <img class="nav-user-photo" src="@Url.Content(@URL)" alt="@(user.Name)'s Photo" />
                                @user.Name
                            </a>
                        </li>
                    }
                    <!-- /section:basics/navbar.user_menu -->
                </ul>
            </div>
        </div>
        <!-- /.navbar-container -->
    </div>
    <!-- /section:basics/navbar.layout -->
    <!-- /section:basics/navbar.layout -->
    <div class="main-container" id="main-container">
        <script type="text/javascript">
            try { ace.settings.check('main-container', 'fixed') } catch (e) { }
        </script>
        @Html.Partial("VerticalMenu")
        <!-- /section:basics/sidebar -->
        <div class="main-content">
            <div class="main-content-inner">
                @if (!menuList.IsNullOrEmpty())
                {
                    <!-- #section:basics/content.breadcrumbs -->
                    <div class="breadcrumbs" id="breadcrumbs">
                        <script type="text/javascript">
                            try { ace.settings.check('breadcrumbs', 'fixed') } catch (e) { }
                        </script>
                        <ul class="breadcrumb">
                            <li class="active">@Html.Raw(Html.Toyota().Page.ScreenID.ToString() == "Home" ? "Dashboard" : Html.Toyota().Page.Title.ToString())</li>
                        </ul>
                        <!-- /.breadcrumb -->
                        @* NOTE: do not delete. may be used in the future.
                            <!-- #section:basics/content.searchbox -->
                            <div class="nav-search" id="nav-search">
                                <form class="form-search">
                                    <span class="input-icon">
                                        <input type="text" placeholder="Search ..." class="nav-search-input" id="nav-search-input" autocomplete="off" />
                                        <i class="ace-icon fa fa-search nav-search-icon"></i>
                                    </span>
                                </form>
                            </div><!-- /.nav-search -->
                            <!-- /section:basics/content.searchbox -->
                        *@
                    </div>
                    <!-- /section:basics/content.breadcrumbs -->
                }
                <div class="page-content">
                    @RenderBody()
                </div>
                <!-- /.page-content -->
            </div>
        </div>
        <!-- /.main-content -->
        <a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
            <i class="ace-icon fa fa-angle-double-up icon-only bigger-110">
            </i>
        </a>
    </div>
    <!-- /.main-container -->
    @Html.Partial("_About")
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/bootstrap.js")"></script>
    <!--[if lte IE 8]>
          <script src="@Url.Content("~/Content/Bootstrap/js/excanvas.js")"></script>
        <![endif]-->
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/chosen.jquery.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/UI/jquery.cookie.js")"></script>
    <!-- ace scripts -->
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/ace/elements.scroller.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/ace/elements.colorpicker.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/ace/elements.typeahead.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/ace/ace.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/ace/ace.sidebar.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/ace/ace.sidebar-scroll-1.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/ace/ace.submenu-hover.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/ace/ace.settings.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/ace/ace.settings-rtl.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/ace/ace.settings-skin.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/ace/ace.searchbox-autocomplete.js")"></script>
    <script type="text/javascript">
        $("#btnAboutMenu").click(function () {
            $("#about-popup").modal();
        });

        $("#btnContactMenu").click(function () {
            $("#contact-popup").modal();
        });

        /** expand menu parent after page moved **/
        $(".sub-menu").click(function () {
            clickMenu(this);
        });

        //if cookie exist
        if ($.cookie('parentMenu')) {
            var parent = $.cookie('parentMenu');
            expandMenu(parent);
            $.removeCookie('parentMenu');
        }

        //save menu id in cookie after menu click
        function clickMenu(obj) {
            var vparent = $(obj).attr("data-parent");
            $.cookie('parentMenu', vparent);
        }

        //activated parent menu
        function expandMenu(menuId) {
            var parent = $("#" + menuId);

            if (typeof parent != "undefined") {
                parent.addClass("open");

                //if menu has parent
                var vpr = parent.attr("data-parent");
                if (vpr != null && typeof $("#" + vpr) != "undefined") {
                    expandMenu(vpr);
                    //show submenu
                    $("#" + menuId + " > ul").removeClass("nav-hide").addClass("nav-show").css("display", "block");
                }
            }
        }
        /** end expand menu parent **/

        /** Skin layout **/
        function getCookie(cname) {
            var name = cname + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) === ' ') c = c.substring(1);
                if (c.indexOf(name) === 0) return c.substring(name.length, c.length);
            }
            return "";
        }

        /** End skin layout **/


        $(function () {
            $('[data-toggle="popover"]').popover({
                //trigger: 'hover',
                template: '<div class="popover alert-success" role="tooltip"><div class="arrow"></div><h3 class="popover-title bg-green"></h3><div class="popover-content"></div></div>'
            });

        });

    </script>

    <!-- Bootstrap searchable dropdown js-->
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/select2new.js")"></script>

    <!-- Bootstrap Datepicker js -->
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/date-time/bootstrap-datepicker.js")"></script>
    <!-- Daterange picker js -->
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/date-time/moment.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/date-time/daterangepicker.js")"></script>
    <!-- Dropzone file js -->
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/dropzone.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Content/Bootstrap/js/typeahead.jquery.js")"></script>
    <script src="@Url.Content("~/Content/jquery.filedownload.js")" type="text/javascript"></script>




    @if (IsSectionDefined("BodyScript"))
    {
        @RenderSection("BodyScript")
    }
    <div id="progress-loading" class="pre-con text-center" style="display: none">
        <img alt="image" style="margin-top: 200px;" width="30" height="30" src="@Url.Content("~/Content/img/LoadingImage.gif")" />
    </div>
</body>
</html>
